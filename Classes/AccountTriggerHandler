public class AccountTriggerHandler{
   public static void beforeInsert(List<Account> accList,Map<Id,Account> accMap){
        for(Account acc : accList){
            if((accMap == null && (acc.Industry== 'Media' || acc.Industry== 'Energy')) || (accMap.get(acc.Id).Industry!=acc.Industry && (acc.Industry== 'Media' || acc.Industry== 'Energy')) ){
                acc.Rating = 'Hot';
            }}}
    public static void CopyAddress(List<Account> accList){
        for(Account acc : accList){
            if(acc.CopyBillingAddressTo__c = true && acc.BillingCountry!=null && acc.BillingCity!=null && acc.BillingStreet!=null && acc.BillingState!=null && acc.BillingPostalCode!=null){
                acc.ShippingStreet = acc.BillingStreet;
                acc.ShippingCity=acc.BillingCity ;
                acc.ShippingState= acc.BillingState;
                acc.ShippingPostalCode= acc.BillingPostalCode; 
                acc.ShippingCountry = acc.BillingCountry;
            }
        }

    }
    public static void createOpportunityOrContact(List<Account> accList){
        List<Contact> conList = new List<Contact>();
        List<Opportunity> myOpportunities = new List<Opportunity>();
        for (Account acc: accList){
            if(acc.New_Opportunity__c && acc.active__c == 'yes'){
            Opportunity opp = new Opportunity();
            opp.AccountId = acc.Id;
            opp.Name = 'Related opp 001';
            opp.StageName = 'Prospecting';
            opp.CloseDate = date.today();
            myOpportunities.add(opp);
            
            }if(acc.New_Contact__c	){
  conList = new List<Contact>{
                    new Contact (FirstName='Oe', LastName='Lee', AccountId = acc.Id)};
                    
                        }}
        Insert conList;
        Insert myOpportunities;
    }
        public static void accountPhoneValues(List<Account> accList,Map<Id,Account> mapList){
         List<Account> myAccounts= new List<Account>();
            
            for(Account acc: accList){
                    if(acc.phone !=null && (acc.phone != mapList.get(acc.Id).phone)){
                    acc.description = 'Phone is Updated!'+'Old value: '+mapList.get(acc.Id).phone+'& New value: '+acc.phone;
                }
        }}
    public static void CopyAddress(List<Account> accList,Map<Id,Account> mapList){
        for(Account acc : accList){
           // if(acc.CopyBillingAddressTo__c = true && acc.BillingCountry!=null && acc.BillingCity!=null && acc.BillingStreet!=null && acc.BillingState!=null && acc.BillingPostalCode!=null){ 
           // OR
                if((acc.CopyBillingAddressTo__c && mapList ==null && acc.BillingCountry!=null && acc.BillingCity!=null && acc.BillingStreet!=null && acc.BillingState!=null && acc.BillingPostalCode!=null) 
                   || (acc.CopyBillingAddressTo__c && acc.CopyBillingAddressTo__c != mapList.get(acc.Id).CopyBillingAddressTo__c  && mapList.get(acc.Id).BillingCountry!=null  && mapList.get(acc.Id).BillingCity!=null  && mapList.get(acc.Id).BillingStreet!=null && mapList.get(acc.Id).BillingState !=null &&  mapList.get(acc.Id).BillingPostalCode!=null)){
                   acc.ShippingStreet = acc.BillingStreet;
                acc.ShippingCity=acc.BillingCity ;
                acc.ShippingState= acc.BillingState;
                acc.ShippingPostalCode= acc.BillingPostalCode; 
                acc.ShippingCountry = acc.BillingCountry;
            }
        }

    }
}
