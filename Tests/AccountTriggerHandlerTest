@isTest
private class TestClass {
    @isTest static void beforeInsertTest(){
        List<Account> myAccounts= new List<Account>();
        Account myAccount = new Account();
        myAccount.name = 'Test class name';
        myAccount.industry = 'Media';
        myAccounts.add(myAccount);
        Test.startTest();
        insert myAccounts;
        //In updation case
        //for(Account acc : myAccounts){
        // acc.industry = 'Media';}
        //update myAccounts ;        
        Test.stopTest();
        List<Account> queryAccounts= [Select Id,rating FROM Account Where Id IN :myAccounts] ;
        for(Account acc : queryAccounts){
            System.Assert(acc.rating=='Hot','Account Rating has not been updated ');            }
        // Or
        // System.AssertEquals('Hot',queryAccounts[0].rating);  
    }
    @isTest  static void CopyAddressTest(){
        List<Account> myAccounts= new List<Account>();
            Account myAccount = new Account();
            myAccount.name = 'Test Acc';
            myAccount.CopyBillingAddressTo__c = true ;
            myAccount.BillingCountry='Egypt'; 
            myAccount.BillingCity ='Alexandria' ;
            myAccount.BillingStreet='Sidi Gaber';
            myAccount.BillingState='Alexandria' ;
            myAccount.BillingPostalCode = '11522' ;
            myAccounts.add(myAccount);
        Test.startTest();
        insert myAccounts;
        Test.stopTest();
           List<Account> checkAccounts= [SELECT Id,ShippingCountry 
                                               FROM Account
                                               Where Id IN :myAccounts];
        System.AssertEquals('Egypt',checkAccounts[0].ShippingCountry ,'Account not updated');
    }
     @isTest    public static void createOpportunityOrContact(){
         List<Account> myAccounts= new List<Account>();
        Account myAccount = new Account();
        myAccount.name = 'Test 100';
        myAccount.New_Opportunity__c = true;
        myAccount.New_Contact__c = true;
        myAccount.active__c = 'yes' ;
        myAccounts.add(myAccount);
                Test.startTest();
        insert myAccounts;
                Test.stopTest();

         List<Account> checkAccounts= [SELECT Id,(SELECT Id FROM Contacts ),(SELECT Id FROM opportunities)
                                               FROM Account
                                               Where Id =:myAccounts[0].id];

        System.AssertEquals(1,checkAccounts[0].Contacts.size() ,'Contacts not inserted');
        System.AssertEquals(1,checkAccounts[0].opportunities.size() ,'Opportunities not inserted');
    }
    @isTest    public static void accountPhoneValues(){
        List<Account> myAccounts= new List<Account>();
        Account myAccount = new Account();
        myAccount.name = 'Test 591';
        myAccount.phone = '546' ;
        myAccounts.add(myAccount);
        Test.startTest();
        insert myAccounts;
        for(Account a : myAccounts){
            if(a.Id ==myAccounts[0].Id ){
                myAccount.phone = '999' ;
            }
        }
        update myAccounts;
        Test.stopTest();
        
        List<Account> checkAccounts= [SELECT Id,description
                                      FROM Account
                                      Where Id =:myAccounts[0].id];
        
        System.Assert(checkAccounts[0].description !=null,'Account not updated');
//OR 
//System.Assert(checkAccounts[0].PHONE =='999','Account not updated');
        
    }
}
